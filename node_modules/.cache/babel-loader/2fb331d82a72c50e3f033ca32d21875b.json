{"ast":null,"code":"import _objectSpread from\"C:/xampp/htdocs/keta-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"C:/xampp/htdocs/keta-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React from'react';import'./style.scss';import Author from'../../components/Author';import{useParams}from'react-router-dom';import{PostContext}from'../../context/post';import{useContext}from'react';import{BLOCKS}from'@contentful/rich-text-types';import{documentToReactComponents}from'@contentful/rich-text-react-renderer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Detail=function Detail(props){var _useParams=useParams(),slug=_useParams.slug;var context=useContext(PostContext);var getPost=context.getPost;var detail=getPost(slug);if(!detail){return/*#__PURE__*/_jsx(\"p\",{children:\"not found\"});}var title=detail.title,category=detail.category,author=detail.author,dateCreated=detail.dateCreated,content=detail.content;var richTextOptions={renderNode:_defineProperty({},BLOCKS.EMBEDDED_ASSET,function(node){var _node$data$target$fie=node.data.target.fields,title=_node$data$target$fie.title,description=_node$data$target$fie.description,file=_node$data$target$fie.file;var mimeType=file.contentType;var mimeGroup=mimeType.split('/')[0];switch(mimeGroup){case'image':return/*#__PURE__*/_jsx(\"img\",{className:\"img-responsive\",title:title?title:null,alt:description?description:null,src:file.url});case'application':return/*#__PURE__*/_jsx(\"a\",{alt:description?description:null,href:file.url,children:title?title:file.details.fileName});default:return/*#__PURE__*/_jsxs(\"span\",{style:{backgroundColor:'red',color:'white'},children:[\" \",mimeType,\" embedded asset \"]});}})};return/*#__PURE__*/_jsxs(\"div\",{className:\"content-container post-detail\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"post-detail__entry-header\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"!#\",className:\"post-detail__cat\",children:category}),/*#__PURE__*/_jsx(\"h1\",{className:\"post-detail__title\",children:title}),/*#__PURE__*/_jsxs(\"div\",{className:\"post-detail__entry-meta\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"post-detail__posted-on\",children:[\"Posted on\\xA0\",/*#__PURE__*/_jsx(\"time\",{className:\"post-detail__datetime\",dateTime:\"2019-08-08T13:56:34+00:00\",children:dateCreated})]}),/*#__PURE__*/_jsx(\"span\",{className:\"post-detail__byline\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"post-detail__by\",children:[\"\\xA0by \",/*#__PURE__*/_jsx(\"a\",{className:\"post-detail__author\",href:author.url,children:author.name})]})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"post-detail__content\",children:documentToReactComponents(content,richTextOptions)}),/*#__PURE__*/_jsx(\"div\",{className:\"post-detail__author\",children:/*#__PURE__*/_jsx(Author,_objectSpread({},author))})]});};export default Detail;","map":{"version":3,"sources":["C:/xampp/htdocs/keta-blog/src/containers/Detail/index.js"],"names":["React","Author","useParams","PostContext","useContext","BLOCKS","documentToReactComponents","Detail","props","slug","context","getPost","detail","title","category","author","dateCreated","content","richTextOptions","renderNode","EMBEDDED_ASSET","node","data","target","fields","description","file","mimeType","contentType","mimeGroup","split","url","details","fileName","backgroundColor","color","name"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './style.scss';\r\nimport Author from '../../components/Author';\r\nimport { useParams } from 'react-router-dom'\r\nimport {PostContext} from '../../context/post';\r\nimport {useContext} from 'react';\r\nimport { BLOCKS } from '@contentful/rich-text-types';\r\nimport { documentToReactComponents } from '@contentful/rich-text-react-renderer';\r\n\r\nconst Detail = (props) => {\r\n\tlet { slug } = useParams();\r\n\tlet context = useContext(PostContext);\r\n\tlet {getPost} = context;\r\n\tlet detail = getPost(slug);\r\n\t\r\n\r\n\tif ( ! detail) {\r\n\t\treturn <p>not found</p>;\r\n\t} \r\n\r\n\tlet {title, category, author, dateCreated, content} = detail;\r\n\r\n\tconst richTextOptions = {\r\n  \t\trenderNode: {\r\n\t\t    [BLOCKS.EMBEDDED_ASSET]: (node) => {\r\n\t\t      const { title, description, file } = node.data.target.fields;\r\n\t\t      const mimeType = file.contentType\r\n\t\t      const mimeGroup = mimeType.split('/')[0]\r\n\r\n\t\t      switch (mimeGroup) {\r\n\t\t        case 'image':\r\n\t\t          return <img className=\"img-responsive\"\r\n\t\t            title={ title ? title : null}\r\n\t\t            alt={description ?  description : null}\r\n\t\t            src={file.url}\r\n\t\t          />\r\n\t\t        case 'application':\r\n\t\t          return <a\r\n\t\t            alt={description ?  description : null}\r\n\t\t            href={file.url}\r\n\t\t            >{ title ? title : file.details.fileName }\r\n\t\t          </a>\r\n\t\t        default:\r\n\t\t          return <span style={{backgroundColor: 'red', color: 'white'}}> {mimeType} embedded asset </span>\r\n\t\t      }\r\n\t\t      \r\n\t\t    }\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"content-container post-detail\">\r\n\t\t\t<header className=\"post-detail__entry-header\">\r\n\t\t\t\t<a href=\"!#\" className=\"post-detail__cat\">{category}</a>\r\n\t\t\t\t<h1 className=\"post-detail__title\">{title}</h1>\r\n\t\t\t\t<div className=\"post-detail__entry-meta\">\r\n\t\t\t\t\t<span className=\"post-detail__posted-on\">\r\n\t\t\t\t\t\tPosted on&nbsp;\r\n\t\t\t\t\t\t<time className=\"post-detail__datetime\" dateTime=\"2019-08-08T13:56:34+00:00\">{dateCreated}</time>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span className=\"post-detail__byline\">\r\n\t\t\t\t\t\t<span className=\"post-detail__by\">&nbsp;by <a className=\"post-detail__author\" href={author.url}>{author.name}</a></span>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</header>\r\n\t\t\t<div className=\"post-detail__content\">\r\n\t\t\t\t{ documentToReactComponents (content, richTextOptions) }\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"post-detail__author\">\r\n\t\t\t\t<Author {...author} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Detail;"]},"metadata":{},"sourceType":"module"}